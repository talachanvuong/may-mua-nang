{% extends "base.html" %}
{% import "macros.html" as macros %}

{% block content %}

<div class="flex flex-col items-center justify-center py-8">
  <h1 class="mb-6 text-2xl font-semibold text-gray-800 dark:text-slate-100">
    Dá»± bÃ¡o thá»i tiáº¿t {{ area }}
  </h1>

  <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
    {% for f in forecasts %}
    <div class="p-6 text-center transition-shadow duration-300 bg-white shadow-lg rounded-2xl hover:shadow-2xl dark:bg-slate-800">
      <!-- NgÃ y -->
      <div class="mb-2 text-lg font-bold text-gray-800 dark:text-slate-100">
        {{ f.date }}
      </div>

      <!-- Nhiá»‡t Ä‘á»™ vÃ  biá»ƒu tÆ°á»£ng -->
      <div class="flex items-center justify-center gap-2 mb-2 text-3xl font-bold text-blue-600">
        {{ macros.weather_icon(f.weathercode) }} {{ f.temperature_mean }}Â°C
      </div>

      <!-- ThÃ´ng tin chi tiáº¿t -->
      <div class="space-y-1 text-sm text-gray-700 dark:text-slate-200">
        <p>ğŸŒ¡ Nhiá»‡t Ä‘á»™: <b>{{ f.temperature_max }}Â°C / {{ f.temperature_min }}Â°C</b></p>
        <p>ğŸ’§ Äá»™ áº©m: <b>{{ f.humidity }}%</b></p>
        <p>â˜ï¸ MÃ¢y che phá»§: <b>{{ f.cloud_cover }}%</b></p>
        <p>ğŸŒ§ï¸ LÆ°á»£ng mÆ°a: <b>{{ f.precipitation }} mm</b> ({{ f.precipitation_chance }}%)</p>
        <p>ğŸ’¨ Tá»‘c Ä‘á»™ giÃ³: <b>{{ f.wind_speed }} km/h</b></p>
        <p>ğŸŒ UV Index: 
          <b class="
            {% if f.uv_index >= 8 %}text-red-600{% elif f.uv_index >= 6 %}text-yellow-500{% else %}text-green-600{% endif %}
          ">{{ f.uv_index }}</b>
        </p>
        <p>ğŸª« AQI: 
          <b class="
            {% if f.aqi is not none %}
              {% if f.aqi <= 50 %}text-green-600
              {% elif f.aqi <= 100 %}text-yellow-500
              {% else %}text-red-600{% endif %}
            {% else %}text-gray-400{% endif %}
          ">{{ f.aqi if f.aqi is not none else "N/A" }}</b>
        </p>
      </div>

      <!-- ğŸ”” Cáº£nh bÃ¡o -->
      {% if f.alerts %}
      <div class="pt-3 mt-4 text-left border-t border-gray-200">
        <h3 class="mb-1 text-sm font-semibold text-gray-800 dark:text-slate-100">âš ï¸ Cáº£nh bÃ¡o:</h3>
        <ul class="space-y-1 text-xs text-gray-700 dark:text-slate-200">
          {% for alert in f.alerts %}
            <li class="pl-2 before:content-['â€¢'] before:mr-1 before:text-red-500">{{ alert }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
