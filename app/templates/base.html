<!DOCTYPE html>
<html lang="vi" class="{% if theme == 'dark' %}dark{% endif %}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mây Mưa Nắng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
  </head>
  <body class="min-h-screen bg-gray-50 dark:bg-slate-900">
    {% if theme == 'scenic' %}
    <video src="https://motionbgs.com/media/8148/frieren-quiet-ripples.960x540.mp4" autoplay muted loop class="fixed top-0 left-0 object-cover w-full h-full blur-sm -z-10"/></video>
    {% endif %}

    <div class="fixed top-0 flex items-center justify-between gap-5 px-4 py-3 -translate-x-1/2 bg-white shadow-md dark:bg-slate-800 left-1/2 rounded-bl-2xl rounded-br-2xl">
      <a class="p-2 transition-all duration-200 cursor-pointer rounded-xl hover:bg-gray-100 active:scale-90 dark:hover:bg-slate-950" title="Tra cứu thời tiết" href="{{ url_for('weather.search') }}">
        <svg class="w-8 h-8 fill-gray-800 dark:fill-slate-100" viewBox="0 -960 960 960">
          <path d="M251-160q-88 0-149.5-61.5T40-371q0-78 50-137t127-71q20-97 94-158.5T482-799q112 0 189 81.5T748-522v24q72-2 122 46.5T920-329q0 69-50 119t-119 50H251Zm0-60h500q45 0 77-32t32-77q0-45-32-77t-77-32h-63v-84q0-91-61-154t-149-63q-88 0-149.5 63T267-522h-19q-62 0-105 43.5T100-371q0 63 44 107t107 44Zm229-260Z" />
        </svg>
      </a>

      <a class="p-2 transition-all duration-200 cursor-pointer rounded-xl hover:bg-gray-100 active:scale-90 dark:hover:bg-slate-950" title="Lịch sử tra cứu">
        <svg class="w-8 h-8 fill-gray-800 dark:fill-slate-100" viewBox="0 -960 960 960">
          <path d="M480-80q-155 0-268.53-102.14Q97.94-284.28 83-437h60q15.93 128.35 112.05 212.67Q351.17-140 479.68-140 622-140 721-238.81q99-98.82 99-241.19 0-142.38-98.81-241.19T480-820q-96.33 0-178.67 51Q219-718 177-633h127v60H91q32-136 140.5-221.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm115-243L450-467.98V-674h60v182l127 127-42 42Z" />
        </svg>
      </a>

      <a href="{{ url_for('favorite.get_all') }}" class="p-2 transition-all duration-200 cursor-pointer rounded-xl hover:bg-gray-100 active:scale-90 dark:hover:bg-slate-950" title="Địa điểm yêu thích">
        <svg class="w-8 h-8 fill-gray-800 dark:fill-slate-100" viewBox="0 -960 960 960">
          <path d="m480-121-41-37q-105.77-97.12-174.88-167.56Q195-396 154-451.5T96.5-552Q80-597 80-643q0-90.15 60.5-150.58Q201-854 290-854q57 0 105.5 27t84.5 78q42-54 89-79.5T670-854q89 0 149.5 60.42Q880-733.15 880-643q0 46-16.5 91T806-451.5Q765-396 695.88-325.56 626.77-255.12 521-158l-41 37Zm0-79q101.24-93 166.62-159.5Q712-426 750.5-476t54-89.14q15.5-39.13 15.5-77.72 0-66.14-42-108.64T670.22-794q-51.52 0-95.37 31.5T504-674h-49q-26-56-69.85-88-43.85-32-95.37-32Q224-794 182-751.5t-42 108.82q0 38.68 15.5 78.18 15.5 39.5 54 90T314-358q66 66 166 158Zm0-297Z" />
        </svg>
      </a>

      <a href="{{ url_for('user.me') }}" class="block w-12 h-12 bg-center bg-cover cursor-pointer rounded-xl bg-[url('{{ photo_url }}')]" title="Thông tin tài khoản"></a>

      <div class="text-center">
        <p class="text-sm text-gray-500 dark:text-gray-300">Vị trí hiện tại</p>
        <p class="text-lg font-semibold text-gray-800 dark:text-slate-100">{{ location }}</p>
      </div>
    </div>

    <div class="w-full max-w-6xl px-6 py-8 pt-24 mx-auto">{% block content %}{% endblock %}</div>
  </body>
</html>
